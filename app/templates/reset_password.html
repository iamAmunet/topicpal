<!DOCTYPE html>
<html>
    <head>
        <title>Reset Password</title>
        <style>
            *{
                margin:0;
                padding: 0;
                box-sizing: border-box;
            }
            body{
                font-family: sans-serif, Arial;
                height: 100vh;
                background-color: #fcb586;
            }
            .container{
                display: flex;
                justify-content: center;
                align-items: center;
                height: 100%;
            }
            .card{
                padding: 50px;
                border-radius: 4px;
                box-shadow: 0 12px 15px rgba(0, 0, 0, 0.1);
                width: 400px;
                background-color: #f5f5f5;
                text-align: center;
            }
            .card label{
                padding: 40px;
                font-size: 24px;
            }
            .card input{
                padding: 10px;
                margin: 10px 20px;
                border: 1px solid;
                border-radius: 4px;
                width: 250px;
            }
            .card button{
                padding: 8px;
                border: 1px solid;
                border-radius: 4px;
                background: #ff6600;
                width: 200px;
                margin: 10px 20px;
                cursor: pointer;
            }
            .card button:hover{
                background: #f5853a;
                color: rgb(134, 134, 134);
            }
            .card p.error{
                color: red;
                font-size: 12px;
                margin: 5px 0;
            }
            .card p.success{
                color: green;
                font-size: 12px;
                margin: 5px 0;
            }
            .card a{
                font-size: 12px;
                text-decoration: none;
                color: black;
                display: block;
                margin: 5px 0;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div class="card">
                {% with messages = get_flashed_messages(with_categories=true) %}
                    {% if messages %}
                        {% for category, message in messages %}
                            <p class="{{ 'success' if category == 'success' else 'error' }}">{{ message }}</p>
                        {% endfor %}
                    {% endif %}
                {% endwith %}
                <form method="POST" onsubmit="return validateForm()">
                    <label>Reset Your Password</label>
                    <input type="password" name="password" id="password" placeholder="Enter new password" required>
                    <input type="password" name="confirm_password" id="confirm_password" placeholder="Confirm new password" required>
                    <button type="submit">Reset Password</button>
                    <a href="{{ url_for('main.login') }}">Back to Login</a>
                </form>
            </div>
        </div>
        <script>
            function validateForm() {
                const password = document.getElementById('password').value;
                const confirmPassword = document.getElementById('confirm_password').value;
                if (password.length < 8) {
                    alert('Password must be at least 8 characters long.');
                    return false;
                }
                if (password !== confirmPassword) {
                    alert('Passwords do not match.');
                    return false;
                }
                return true;
            }
        </script>
    </body>
</html>